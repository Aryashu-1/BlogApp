{"ast":null,"code":"//create redux slice\nimport{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import axios from'axios';//make http request using redux-thunk middleware\nexport const userauthorloginthunk=createAsyncThunk('user-author-login',async(userCredObj,thunkApi)=>{try{if(userCredObj.userType==='User'){const res=await axios.post('http://localhost:4000/user-api/login',userCredObj);if(res.data.message===\"Login Succesfull\"){//store local session storage\nlocalStorage.setItem('token',res.data.token);//return data\n}else{return thunkApi.rejectWithValue(res.data.message);}return res.data;}if(userCredObj.userType==='Author'){const res=await axios.post('http://localhost:4000/author-api/login',userCredObj);if(res.data.message===\"Login Succesfull\"){//store local session storage\nlocalStorage.setItem('token',res.data.token);//return data\n}else{return thunkApi.rejectWithValue(res.data.message);}return res.data;}}catch(err){return thunkApi.rejectWithValue(err);}});export const userauthorslice=createSlice({name:\"user-author-login\",initialState:{\"isPending\":false,\"loginUserStatus\":false,\"currentUser\":{},\"errorOccured\":false,\"errMsg\":''},reducers:{rsesetState:(state,action)=>{state.isPending=false;state.currentUser={};state.loginUserStatus=false;state.errorOccured=false;state.errMsg='';}},extraReducers:builder=>builder.addCase(userauthorloginthunk.pending,(state,action)=>{state.isPending=true;}).addCase(userauthorloginthunk.fulfilled,(state,action)=>{state.isPending=false;state.currentUser=action.payload.user;state.loginUserStatus=true;state.errMsg='';state.errorOccured=false;}).addCase(userauthorloginthunk.rejected,(state,action)=>{state.isPending=false;state.currentUser={};state.loginUserStatus=false;state.errMsg=action.payload;state.errorOccured=true;})});//export action creator functions\nconst{}=userauthorslice.actions;//export root reducer of this slice\nexport default userauthorslice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","userauthorloginthunk","userCredObj","thunkApi","userType","res","post","data","message","localStorage","setItem","token","rejectWithValue","err","userauthorslice","name","initialState","reducers","rsesetState","state","action","isPending","currentUser","loginUserStatus","errorOccured","errMsg","extraReducers","builder","addCase","pending","fulfilled","payload","user","rejected","actions","reducer"],"sources":["C:/Users/DELL/Desktop/Blog/Client/blog/src/Redux/Slices/userauthorslice.js"],"sourcesContent":["//create redux slice\r\n\r\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\n//make http request using redux-thunk middleware\r\nexport const userauthorloginthunk = createAsyncThunk('user-author-login',async(userCredObj,thunkApi)=>{\r\n    try{  \r\n    if(userCredObj.userType === 'User'){\r\n               \r\n            const res = await axios.post('http://localhost:4000/user-api/login',userCredObj)\r\n                if(res.data.message === \"Login Succesfull\"){\r\n                    //store local session storage\r\n                    localStorage.setItem('token',res.data.token)\r\n                    //return data\r\n\r\n                }\r\n                else{\r\n                    return thunkApi.rejectWithValue(res.data.message)\r\n                }\r\n           return res.data\r\n        }\r\n        if(userCredObj.userType === 'Author'){\r\n            const res = await axios.post('http://localhost:4000/author-api/login',userCredObj)\r\n            if(res.data.message === \"Login Succesfull\"){\r\n                //store local session storage\r\n                localStorage.setItem('token',res.data.token)\r\n                //return data\r\n\r\n            }\r\n            else{\r\n                return thunkApi.rejectWithValue(res.data.message)\r\n            }\r\n            return res.data\r\n        }\r\n    }catch(err){\r\n        return thunkApi.rejectWithValue(err)\r\n    }\r\n}\r\n)\r\nexport const userauthorslice = createSlice(\r\n    {\r\n        name: \"user-author-login\",\r\n        initialState:{\r\n            \"isPending\":false,\r\n            \"loginUserStatus\":false,\r\n            \"currentUser\":{},\r\n            \"errorOccured\":false,\r\n            \"errMsg\":''\r\n        },\r\n        reducers:{\r\n            rsesetState:(state,action)=>{\r\n                state.isPending=false;\r\n                state.currentUser={};\r\n                state.loginUserStatus=false;\r\n                state.errorOccured=false;\r\n                state.errMsg=''\r\n            }\r\n        },\r\n        extraReducers: builder => builder\r\n        .addCase(userauthorloginthunk.pending,(state,action)=>{\r\n            state.isPending=true;\r\n        })\r\n        .addCase(userauthorloginthunk.fulfilled,(state,action)=>{\r\n            state.isPending=false;\r\n            state.currentUser = action.payload.user\r\n            state.loginUserStatus = true\r\n            state.errMsg=''\r\n            state.errorOccured=false\r\n        })\r\n        .addCase(userauthorloginthunk.rejected,(state,action)=>{\r\n            state.isPending=false;\r\n            state.currentUser = {}\r\n            state.loginUserStatus = false\r\n            state.errMsg=action.payload\r\n            state.errorOccured=true\r\n        })\r\n    }\r\n)\r\n\r\n\r\n//export action creator functions\r\n\r\nconst {}=userauthorslice.actions;\r\n\r\n//export root reducer of this slice\r\nexport default  userauthorslice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}