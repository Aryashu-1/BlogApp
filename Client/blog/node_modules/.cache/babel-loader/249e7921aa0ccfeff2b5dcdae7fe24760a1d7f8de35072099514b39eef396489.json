{"ast":null,"code":"import React,{useContext,useState}from\"react\";import{useForm}from\"react-hook-form\";import{NavLink,useNavigate}from\"react-router-dom\";import{UserContext}from\"../Context/UserContext\";import axios from\"axios\";import{useDispatch}from'react-redux';import{userAuthorLoginThunk}from\"../../redux/slices/userauthorslice\";import{use}from\"../../../../../Backend/API/common-api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _errors$username,_errors$password,_errors$password2;let[User,setUser]=useContext(UserContext);function Userlogin(User){setUser(User);}let{register,handleSubmit,formState:{errors}}=useForm();let navigate=useNavigate();let dispatch=useDispatch();let[err,setErr]=useState('');async function handleFormSubmit(User){console.log(\"User logged in \");//console.log(User)\ndispatch(userAuthorLoginThunk(User));let res;if(User.userType==='User'){res=await axios.post('http://localhost:4000/user-api/login',User);}else if(User.userType==='Author'){res=await axios.post('http://localhost:4000/author-api/login',User);}if(res.data.message===\"Login Succesfull\"){Userlogin(User);// navigate('/Home')\n}else{setErr(res.data.message);console.log(res.data.message);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"m-6 text-white\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"text-4xl p-4 m-auto\",children:\"WELCOME BACK!!!! \"}),/*#__PURE__*/_jsxs(\"p\",{className:\"p-6\",children:[\"If you do not have account\",\" \",/*#__PURE__*/_jsx(\"a\",{href:\"/signup\",className:\"underline\",children:\"Click here\"}),\" \",\"to Sign-Up\",\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-96 rounded-md m-auto border-black border-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\" mx-6 my-3 font-semibold text-2xl\",children:\"SIGN IN\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"px-10 m-2\",onSubmit:handleSubmit(handleFormSubmit),children:[/*#__PURE__*/_jsx(\"div\",{className:\"my-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-lg\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"User\",value:\"User\",...register(\"userType\",{required:true})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"User\",className:\"m-3\",children:\"User\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"Author\",value:\"Author\",...register(\"userType\",{required:true})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Author\",className:\"m-3\",children:\"Author\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"Admin\",value:\"Admin\",...register(\"userType\",{required:true})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Admin\",className:\"m-3\",children:\"Admin\"}),errors.userType&&/*#__PURE__*/_jsx(\"h3\",{className:\"px-1 text-sm text-red-600\",children:\"! Select your User type\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-3\",children:[\" \",/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:\"username\"}),/*#__PURE__*/_jsx(\"input\",{className:\" w-full p-2 text-black rounded-md border-2 border-gray-500\",type:\"text\",...register(\"username\",{required:true})})]}),((_errors$username=errors.username)===null||_errors$username===void 0?void 0:_errors$username.type)===\"required\"&&/*#__PURE__*/_jsx(\"h3\",{className:\" text-red-700\",children:\"*required\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",className:\" w-full text-black p-2 rounded-md border-2 border-gray-500\",type:\"password\",...register(\"password\",{required:true,minLength:8})}),((_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.type)===\"required\"&&/*#__PURE__*/_jsx(\"h3\",{className:\" text-red-700\",children:\"*required\"}),((_errors$password2=errors.password)===null||_errors$password2===void 0?void 0:_errors$password2.type)===\"minLength\"&&/*#__PURE__*/_jsx(\"h3\",{className:\" text-red-700\",children:\"Password must be atleat 8 cahracters\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\" bg-gray-800 text-lg rounded-xl p-3 text-white hover:bg-blue-700 \",children:\"Sign In\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center text-lg py-3\",children:[\"Don't have an account ?\",/*#__PURE__*/_jsx(NavLink,{to:\"/signup\",className:\"underline px-3 text-blue-700 font-semibold text-lg\",children:\"Sign up\"})]})]})]});}export default Login;","map":{"version":3,"names":["React","useContext","useState","useForm","NavLink","useNavigate","UserContext","axios","useDispatch","userAuthorLoginThunk","use","jsx","_jsx","jsxs","_jsxs","Login","_errors$username","_errors$password","_errors$password2","User","setUser","Userlogin","register","handleSubmit","formState","errors","navigate","dispatch","err","setErr","handleFormSubmit","console","log","res","userType","post","data","message","className","children","href","onSubmit","type","id","value","required","htmlFor","username","minLength","password","to"],"sources":["C:/Users/DELL/Desktop/Blog/Client/blog/src/Components/Login/Login.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\nimport { UserContext } from \"../Context/UserContext\";\r\nimport axios from \"axios\";\r\nimport {useDispatch} from 'react-redux'\r\nimport { userAuthorLoginThunk } from \"../../redux/slices/userauthorslice\";\r\nimport { use } from \"../../../../../Backend/API/common-api\";\r\n\r\nfunction Login() {\r\n    let [User,setUser] = useContext(UserContext)\r\n    function Userlogin(User){\r\n        setUser(User)\r\n    }\r\n  let {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n  let navigate = useNavigate();\r\n\r\nlet dispatch = useDispatch()\r\n  let [err,setErr] = useState('')\r\n\r\n  async function handleFormSubmit(User) {\r\n    console.log(\"User logged in \");\r\n    //console.log(User)\r\n    dispatch(userAuthorLoginThunk(User))\r\n    let res;\r\n    if(User.userType === 'User'){\r\n      res = await axios.post('http://localhost:4000/user-api/login',User)\r\n    }\r\n    else if(User.userType === 'Author'){\r\n      res = await axios.post('http://localhost:4000/author-api/login',User)\r\n    }\r\n    if (res.data.message === \"Login Succesfull\"){\r\n    Userlogin(User)\r\n    // navigate('/Home')\r\n    }\r\n    else{\r\n      setErr(res.data.message)\r\n      console.log(res.data.message)\r\n    }\r\n    \r\n  }\r\n  return (\r\n    <div className=\"m-6 text-white\">\r\n      <a className=\"text-4xl p-4 m-auto\">WELCOME BACK!!!! </a>\r\n      <p className=\"p-6\">\r\n        If you do not have account{\" \"}\r\n        <a href={\"/signup\"} className=\"underline\">\r\n          Click here\r\n        </a>{\" \"}\r\n        to Sign-Up{\" \"}\r\n      </p>\r\n      <div className=\"w-96 rounded-md m-auto border-black border-2\">\r\n        <h1 className=\" mx-6 my-3 font-semibold text-2xl\">SIGN IN</h1>\r\n\r\n       \r\n\r\n        <form className=\"px-10 m-2\" onSubmit={handleSubmit(handleFormSubmit)}>\r\n        <div className=\"my-4\">\r\n           <div className=\"text-white text-lg\">\r\n           <input\r\n             type=\"radio\"\r\n             id=\"User\"\r\n             value=\"User\"\r\n             {...register(\"userType\", { required: true })}\r\n           />\r\n           <label htmlFor=\"User\" className=\"m-3\">\r\n             User\r\n           </label>\r\n           <input\r\n             type=\"radio\"\r\n             id=\"Author\"\r\n             value=\"Author\"\r\n             {...register(\"userType\", { required: true })}\r\n           />\r\n           <label htmlFor=\"Author\" className=\"m-3\">\r\n             Author\r\n           </label>\r\n           <input\r\n             type=\"radio\"\r\n             id=\"Admin\"\r\n             value=\"Admin\"\r\n             {...register(\"userType\", { required: true })}\r\n           />\r\n           <label htmlFor=\"Admin\" className=\"m-3\">\r\n             Admin\r\n           </label>\r\n           {errors.userType && (\r\n             <h3 className=\"px-1 text-sm text-red-600\">\r\n               ! Select your User type\r\n             </h3>\r\n           )}\r\n         </div>\r\n         </div>\r\n          <div className=\"py-3\">\r\n            {\" \"}\r\n            <h1 className=\"text-xl font-semibold\">username</h1>\r\n            <input\r\n              className=\" w-full p-2 text-black rounded-md border-2 border-gray-500\"\r\n              type=\"text\"\r\n              {...register(\"username\", { required: true })}\r\n            ></input>\r\n          </div>\r\n          {errors.username?.type === \"required\" && (\r\n            <h3 className=\" text-red-700\">*required</h3>\r\n          )}\r\n          <div className=\"py-3\">\r\n            <h1 className=\"text-xl font-semibold\">Password</h1>\r\n            <input\r\n              id=\"password\"\r\n              className=\" w-full text-black p-2 rounded-md border-2 border-gray-500\"\r\n              type=\"password\"\r\n              {...register(\"password\", { required: true, minLength: 8 })}\r\n            ></input>\r\n            {errors.password?.type === \"required\" && (\r\n              <h3 className=\" text-red-700\">*required</h3>\r\n            )}\r\n            {errors.password?.type === \"minLength\" && (\r\n              <h3 className=\" text-red-700\">\r\n                Password must be atleat 8 cahracters\r\n              </h3>\r\n            )}\r\n          </div>\r\n          <div className=\"text-center p-4\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\" bg-gray-800 text-lg rounded-xl p-3 text-white hover:bg-blue-700 \"\r\n            >\r\n              Sign In\r\n            </button>\r\n          </div>\r\n        </form>\r\n        <p className=\"text-center text-lg py-3\">\r\n          Don't have an account ?\r\n          <NavLink\r\n            to=\"/signup\"\r\n            className=\"underline px-3 text-blue-700 font-semibold text-lg\"\r\n          >\r\n            Sign up\r\n          </NavLink>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}